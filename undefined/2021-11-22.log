2021-11-22 16:40:03 [INFO] -  select z.* from (  select (row_number() over(order by a.insert_date desc)) as num, a.board_id, a.user_no,a.author_name,  a.title, (select count(*) from own_board_hit where board_id = a.board_id) as hit_count,to_char(a.insert_date, 'YYYY-MM-DD hh24:mi') as insert_date, a.content,  case when a.insert_date between current_timestamp + '-7days' and now() then 'Y' else 'N'  end as new_notice,  (select array_to_json(array_agg(b)) from own_board_attach b where b.board_id = a.board_id) as attach_files , case when a.plism_yn = 'Y' and a.pan_yn = 'Y' and a.weidong_yn = 'Y' then 'ALL' else  case when a.plism_yn = 'Y' and a.pan_yn = 'N' and a.weidong_yn = 'N' then 'PLISM' else  case when a.plism_yn = 'N' and a.pan_yn = 'N' and a.weidong_yn = 'Y' then 'WEIDONG' else  case when a.plism_yn = 'N' and a.pan_yn = 'Y' and a.weidong_yn = 'N' then 'PAN' else  case when a.plism_yn = 'Y' and a.pan_yn = 'Y' and a.weidong_yn = 'N' then 'PLISM PAN' else  case when a.plism_yn = 'Y' and a.pan_yn = 'N' and a.weidong_yn = 'Y' then 'PLISM WEIDONG' else  case when a.plism_yn = 'N' and a.pan_yn = 'Y' and a.weidong_yn = 'Y' then 'PAN WEIDONG' end end end end end end end as service,  floor(count(*) over()/10+1) as tot_page,count(*) over() as tot_cnt,floor(((row_number() over()) -1) /10 +1) as curpage, to_char(board_to,'YYYY-MM-DD') as board_to  from own_board a  where 1=1  and plism_yn = 'Y'  order by insert_date desc  )z  
2021-11-22 16:41:38 [INFO] -  select z.* from (  select (row_number() over(order by a.insert_date desc)) as num, a.board_id, a.user_no,a.author_name,  a.title, (select count(*) from own_board_hit where board_id = a.board_id) as hit_count,to_char(a.insert_date, 'YYYY-MM-DD hh24:mi') as insert_date, a.content,  case when a.insert_date between current_timestamp + '-7days' and now() then 'Y' else 'N'  end as new_notice,  (select array_to_json(array_agg(b)) from own_board_attach b where b.board_id = a.board_id) as attach_files , case when a.plism_yn = 'Y' and a.pan_yn = 'Y' and a.weidong_yn = 'Y' then 'ALL' else  case when a.plism_yn = 'Y' and a.pan_yn = 'N' and a.weidong_yn = 'N' then 'PLISM' else  case when a.plism_yn = 'N' and a.pan_yn = 'N' and a.weidong_yn = 'Y' then 'WEIDONG' else  case when a.plism_yn = 'N' and a.pan_yn = 'Y' and a.weidong_yn = 'N' then 'PAN' else  case when a.plism_yn = 'Y' and a.pan_yn = 'Y' and a.weidong_yn = 'N' then 'PLISM PAN' else  case when a.plism_yn = 'Y' and a.pan_yn = 'N' and a.weidong_yn = 'Y' then 'PLISM WEIDONG' else  case when a.plism_yn = 'N' and a.pan_yn = 'Y' and a.weidong_yn = 'Y' then 'PAN WEIDONG' end end end end end end end as service,  floor(count(*) over()/10+1) as tot_page,count(*) over() as tot_cnt,floor(((row_number() over()) -1) /10 +1) as curpage, to_char(board_to,'YYYY-MM-DD') as board_to  from own_board a  where 1=1  and plism_yn = 'Y'  order by insert_date desc  )z  
